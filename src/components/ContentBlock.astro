---
import Island from "./Island.astro";

const { title, link, fullWidth } = Astro.props;
---

<div class=`content-block-wrapper ${fullWidth && 'full-width'}`>
    {
        title && (
            <Island noPadding>
                <div class="content-title-wrap">
                    {link && (
                        <a href={link}>
                            <h3>{title}</h3>
                        </a>
                    )}
                    {!link && <h3>{title}</h3>}
                </div>
            </Island>
        )
    }
    <Island bottomMargin>
        <div class="content-content-wrap">
            <slot />
        </div>
    </Island>
</div>

<style>
    .content-block-wrapper {
        z-index: 10;

        &:first-child:last-child,
        &.full-width {
            grid-column: 1 / span 2;
        }

        @media screen and (min-width: 875px) {
            grid-column-end: span 1;
        }
    }

    .content-title-wrap {
        padding-inline: 1em;
        padding-block: 0.75em;

        h3 {
            margin-block: 0;
            font-size: 1em;
            font-weight: normal;
        }

        a {
            text-decoration: none;
            color: var(--color-foreground);
        }
    }

    .content-content-wrap {
        padding: 1em;

        > *:first-child {
            margin-block-start: 0;
        }
        > *:last-child {
            margin-block-end: 0;
        }
    }
</style>
