---
const { title, link, fullWidth } = Astro.props;
---

<div class=`content-block-wrapper ${fullWidth && 'full-width'}`>
    {
        title && (
            <div class="content-title-wrap">
                {link && (
                    <a href={link}>
                        <h3>{title}</h3>
                    </a>
                )}
                {!link && <h3>{title}</h3>}
            </div>
        )
    }
    <div class="content-content-wrap">
        <slot />
    </div>
</div>

<style>
    .content-block-wrapper {
        border: 1px solid var(--color-foreground);
        background: var(--color-background);
        filter: drop-shadow(0.3em 0.3em 0em var(--color-foreground));
        z-index: 10;

        &:first-child:last-child,
        &.full-width {
            grid-column: 1 / span 2;
        }

        @media screen and (min-width: 875px) {
            grid-column-end: span 1;
        }
    }

    .content-title-wrap {
        border-bottom: 1px solid var(--color-foreground);
        padding-inline: 1em;
        padding-block: 0.75em;

        h3 {
            margin-block: 0;
            font-size: 1em;
            font-weight: normal;
        }

        a {
            text-decoration: none;
            color: var(--color-foreground);
        }
    }

    .content-content-wrap {
        padding: 1em;

        > *:first-child {
            margin-block-start: 0;
        }
        > *:last-child {
            margin-block-end: 0;
        }
    }
</style>
