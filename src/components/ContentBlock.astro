---
import Island from "./Island.astro";

const { title, link, floatWindow = true } = Astro.props;

const classes = ["content-block-wrapper"];

if (floatWindow) classes.push("floating-window");
---

<div class={classes.join(" ")}>
  {
    title && (
      <Island noPadding>
        <div class="content-title-wrap">
          {link && (
            <a href={link}>
              <h3>{title}</h3>
            </a>
          )}
          {!link && <h3>{title}</h3>}
        </div>
      </Island>
    )
  }
  <Island bottomMargin>
    <div class="content-content-wrap">
      <slot />
    </div>
  </Island>
</div>

<style>
  .content-title-wrap {
    padding-inline: 1em;
    padding-block: 0.75em;

    h3 {
      margin-block: 0;
      font-size: 1em;
      font-weight: normal;
    }

    a {
      text-decoration: none;
      color: var(--color-foreground);
    }
  }

  .content-content-wrap {
    padding: 1em;

    > *:first-child {
      margin-block-start: 0;
    }
    > *:last-child {
      margin-block-end: 0;
    }
  }
</style>
